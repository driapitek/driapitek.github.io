---
output: html_document
editor_options: 
  chunk_output_type: console
---

## Создание модели
### Введение

В прошлой главе были искусственные данные, сейчас поработаем на реальных.

Порядок будет такой --- мы будем обнаруживать тенденции посредством визуализации, а затем конкретизировать и уточнять из с помощью модели.
Затем мы повторим процесс, но заменим старую пременную отклика остатками, опеределённой модели.

Нашей целью является переход от неявных знаний, содержащихся в данных и наших головах, к явным знаниям, содержащимся в количественной модели. Это облешчит их применение в новых областях и использование другими людьми.

Нужно уметь вовремя остановится

Давным-давно на уроке рисования мой учитель сказал мне: «Художник должен знать, когда произведение готово. Вы не можете что-то настроить в совершенстве - заверните это. Если вам это не нравится, сделайте это снова. В противном случае начните что-то новое ». Позже я услышал: «Бедная швея делает много ошибок. Хорошая швея усердно работает над исправлением этих ошибок. Великая швея не боится выбросить одежду и начать все сначала ».

<https://www.reddit.com/r/datascience/comments/4irajq>

#### Необходимые ресурсы

```{r}
library(tidyverse)
library(modelr)
options(na.action = na.warn)

library(nycflights13)
library(lubridate)
```

### Почему бриллианты низкого качества оказались более дорогими

В предыдущих главах мы наблюдали необычное соотношение между качеством бриллиантов и их ценой.
Бриллианты низкого качества, плохая огранка, неудачный цвет, и худшая чистота стоят дороже

```{r}
ggplot(diamonds, aes(cut, price)) + geom_boxplot()
ggplot(diamonds, aes(color, price)) + geom_boxplot()
ggplot(diamonds, aes(clarity, price)) + geom_boxplot()
```

Худший цвет бриллианта